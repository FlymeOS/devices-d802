<script>
//---------------------------------------------------------------------------------------------------
//falarm line & click event

var pressed_falarmLine_imgae = "url("+folderPath+"agent_list_bg_pressed.png)";
var org_falarmLine_image;

$(".falarm").on('touchstart',function(e){
    org_falarmLine_image =  $(e.currentTarget).css('background-image');
    $(e.currentTarget).css('background-image', pressed_falarmLine_imgae);

    return true;
});

$(".falarm").on('touchmove',function(e){
    $(e.currentTarget).css('background-image', org_falarmLine_image);
    return true;
});

$(".falarm").on('touchend',function(e){
    $(e.currentTarget).css('background-image', org_falarmLine_image);

    if($(".button").css('display')=="none") { // after saved, don't need to jump to app
        var info = $(e.currentTarget).data('alarmaftersave');

        console.log(JSON.stringify(info));
        window.AndroidInterface.sendToAndroidForStartActivity(JSON.stringify(info));
    } else {
        var info = $(e.currentTarget).data('gotonewalarm');

        console.log(JSON.stringify(info));
        window.AndroidInterface.sendToAndroidForStartActivity(JSON.stringify(info));
    }
    return true;
});
//---------------------------------------------------------------------------------------------------
//falarm button & click event

var pressed_falarmbtn_color = '#34363B';
var org_falarmbtn_color;

$(".falarmbtn").on('touchstart',function(e){
    org_falarmbtn_color =  $(e.currentTarget).css('background-color');
    $(e.currentTarget).css('background-color', pressed_falarmbtn_color);

    return true;
});

$(".falarmbtn").on('touchmove',function(e){
    $(e.currentTarget).css('background-color', org_falarmbtn_color);

    return true;
});

$(".falarmbtn").on('touchend',function(e){
    $(e.currentTarget).css('background-color', org_falarmbtn_color);

    return true;
});

function TypeClass (v, value) {
   this.type = v;
   this.value = value;
};

function buttonSave(e) {
    ///send pressed info "yes"
    var JSONObject = {"choice":"yes"};
    console.log(JSON.stringify(JSONObject));
    window.AndroidInterface.sendToAndroidForWernickeManager(JSON.stringify(JSONObject));

    $(".button").hide();
}

function buttonCancel(e) {
    ///send pressed info "no"
    var JSONObject = {"choice":"no"};
    console.log(JSON.stringify(JSONObject));
    window.AndroidInterface.sendToAndroidForWernickeManager(JSON.stringify(JSONObject));

    $(".button").hide();
}
</script>

<li>
    <div width=100% style="background-image: url('<%= folderPath %>agent_list_bg_01.png'); ">
        <table width=100% height="64px" cellpadding="0" cellspacing="0" style="padding: 0px 8px 0px 12px;" class="falarm" data-gotonewalarm='{
                "action":"<%= data.action %>",
                "hour":"<%= data.hour %>",
                "minutes":"<%= data.minutes %>",
                "daysofweek":"<%= data.weekMRF %>",
                "enabled":"<%= data.enabled %>",
                "memo":"<%= data.memo %>",
                "package": "<%= data.package %>",
                "class": "<%= data.class %>"
            }' data-alarmaftersave='{
                "action": "ALARMTAB",
                "package":"<%= data.package %>",
                "class":"com.lge.clock.AlarmClockActivity"
        }'>
            <tr>
                <td>
                   <% if(data.ampm_view && data.is_kr == "1") { %>
                   <span class="agent_list_alarm_time_ampm"><%= data.ampm_view %>&nbsp;</span>
                   <% } %>
                   <span class="agent_list_alarm_time"><%= data.time_view %></span>
                   <% if(data.ampm_view && data.is_kr == "0") { %>
                   <span class="agent_list_alarm_time_ampm">&nbsp;<%= data.ampm_view %></span>
                   <% } %>
                </td>
            </tr>
            <tr>
                <td style="padding-bottom:4px;"><div class="agent_list_alarm_name"><%= data.week_view %></div></td>
            </tr>
        </table>

        <div class="button" style="padding: 13px 10px 14px 10px;
            <% if(data.confirm && data.cancel) {%>
            <%} else {%>
                display : none;
            <%}%>
            ">
            <table width=100%>
                <tr>
                    <td  width=50% align="center">
                        <button type="button" class="falarmbtn" style=" height:36px; width:96%;  border-radius:22px; background-color:#84888E; border:0; " onclick="buttonCancel(event);">
                            <span class="agent_list_01"><%= data.cancel %></span>
                        </button>
                    </td>
                    <td  width=50% align="center" >
                        <button type="button" class="falarmbtn"  style="height:36px; width:96%; border-radius:22px; background-color:#84888E; border:0; " onclick="buttonSave(event);">
                            <span class="agent_list_01"><%= data.confirm %></span>
                        </button>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</li>
